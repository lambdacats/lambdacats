<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>{% block title %}{{ config.title }}{% endblock title %}</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ get_url(path="print.css", trailing_slash=false) }}" media="print">
    <link rel="stylesheet" href="{{ get_url(path="poole.css", trailing_slash=false) }}">
    <link rel="stylesheet" href="{{ get_url(path="hyde.css", trailing_slash=false) }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

    {% if config.generate_rss %}
    <link rel="alternate" type="application/rss+xml" title="RSS" href="{{ get_url(path="rss.xml", trailing_slash=false) }}">
    {% endif %}

    {% block extra_head %}
    {% endblock extra_head %}
  </head>

  <body class="{{ config.extra.hyde_theme }} {% if config.extra.hyde_reverse %}layout-reverse{% endif %}">
    {% block sidebar %}
    <div class="sidebar">
      <div class="container {% if config.extra.hyde_sticky %}sidebar-sticky{% endif %}">
        <div class="sidebar-about">
          {% block sidebar_about %}
          <a href="{{ config.base_url }}"><h1>{{ config.title }}</h1></a>
          {% if config.description %}
          <p class="lead">{{ config.description }}</p>
          {% endif %}
          {% endblock sidebar_about %}
        </div>

        <ul class="sidebar-nav">
          {% block sidebar_nav %}
          {% for link in config.extra.side_links %}
          <li class="sidebar-nav-item"><a href="{{ link.url }}">{{ link.name }}</a></li>
          {% endfor %}
          <li class="sidebar-nav-item"><a href="{{ get_url(path="@/lost/_index.md") }}">Lost</a></li>
          {% endblock sidebar_nav %}
        </ul>
      </div>
    </div>
    {% endblock sidebar %}

    <div class="content container">
      {% block content %}
      <div class="posts">
        {% if paginator %}
        {% set pages = paginator.pages | reverse %}
        {% else %}
        {% set pages = section.pages | reverse %}
        {% endif %}
        {% for page in pages %}
        <div class="post">
          <h1 class="post-title"><a href="{{ page.permalink }}">{{ page.title }}</a></h1>
          {# I tried using resize_image here, but: https://github.com/kaksmet/jpeg-decoder/pull/98 #}
          <a href="{{ page.permalink }}"><img src="/{{ page.extra.image }}" alt="{{ page.extra.alt }}"></a>
        </div>
        {% endfor %}
      </div>
      {% if paginator %}
      <div class="pagination">
        {% if paginator.previous %}
        <a href="{{ paginator.previous }}" class="previous">Previous</a>
        {% else %}
        <span class="previous">Previous</span>
        {% endif %}
        <span class="page_number">Page {{ paginator.current_index }} of {{ paginator.number_pagers }}</span>
        {% if paginator.next %}
        <a href="{{ paginator.next }}" class="next">Next</a>
        {% else %}
        <span class="next">Next</span>
        {% endif %}
      </div>
      {% endif %}
      {% endblock content %}
    </div>

  </body>

</html>
